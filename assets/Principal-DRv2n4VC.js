import{r as n,b as B,A as L,S as p,j as e,a as R,d as V}from"./index-DaOhVVWd.js";import{P as Y}from"./PageTransition-Couod70-.js";import{u as G}from"./useAuthentication-Dn9EKM7N.js";import{d as J,u as Q,v as X,w as Z,x as ee,y as re,i as se,z as ae,A as te}from"./index-B8Flq_4W.js";import"./iconBase-Cr-ff6zs.js";const oe="_modalOverlay_u46p0_2",ie="_modalContent_u46p0_26",ne="_modalHeader_u46p0_49",ce="_closeButton_u46p0_67",le="_modalBody_u46p0_86",de="_loading_u46p0_91",ue="_spinner_u46p0_100",me="_formGroup_u46p0_115",xe="_cuestionarioInfo_u46p0_128",fe="_cuestionarioCard_u46p0_132",pe="_cuestionarioId_u46p0_153",he="_loadingCuestionario_u46p0_163",be="_selectField_u46p0_173",ge="_modalFooter_u46p0_196",ye="_cancelButton_u46p0_205",je="_submitButton_u46p0_206",l={modalOverlay:oe,modalContent:ie,modalHeader:ne,closeButton:ce,modalBody:le,loading:de,spinner:ue,formGroup:me,cuestionarioInfo:xe,cuestionarioCard:fe,cuestionarioId:pe,loadingCuestionario:he,selectField:be,modalFooter:ge,cancelButton:ye,submitButton:je},Ne=({isOpen:t,onClose:a,cuestionarioId:c,cuestionarioTitulo:h,onSuccess:f})=>{const{user:j}=G(),[A,S]=n.useState([]),[r,i]=n.useState(""),[u,b]=n.useState(!1);n.useEffect(()=>{t&&j?.id&&N()},[t,j?.id]);const N=async()=>{try{b(!0);const s=await B.get(L.aperturas.periodosActivos),o=s?.data?.data??s?.data,k=Array.isArray(o?.periodos)?o.periodos:Array.isArray(s?.data)?s?.data:[];S(k)}catch(s){console.error("Error al cargar datos:",s),p.fire({icon:"error",title:"Error",text:s instanceof Error?s.message:"Error al cargar los datos"})}finally{b(!1)}},F=async s=>{if(s.preventDefault(),!r){p.fire({icon:"warning",title:"Campo requerido",text:"Por favor selecciona un periodo"});return}if(!c){p.fire({icon:"error",title:"Error",text:"No se pudo cargar la información del cuestionario"});return}try{b(!0);const o=await B.post(L.aperturas.crear,{cuestionario_id:Number(c),periodo_id:Number(r),usuario_id:j?.id}),k=o?.data?.data??o?.data;p.fire({icon:"success",title:"¡Éxito!",text:k?.message||"Apertura creada correctamente",timer:1500,showConfirmButton:!1}),i(""),f?.(),a()}catch(o){console.error("Error al crear apertura:",o);const k=o?.response?.status,z=o?.response?.data?.message||o?.response?.data?.error;k===409?p.fire({icon:"warning",title:"Conflicto",text:z||"Ya existe una apertura para este cuestionario en el período seleccionado"}):p.fire({icon:"error",title:"Error",text:z||(o instanceof Error?o.message:"Error al crear la apertura")})}finally{b(!1)}},w=s=>{if(!s)return"";const o=s.split("T")[0].split("-");return o.length===3?`${o[2]}/${o[1]}/${o[0]}`:s},M=s=>{s.target===s.currentTarget&&a()};return t?e.jsx("div",{className:l.modalOverlay,onClick:M,children:e.jsxs("div",{className:l.modalContent,children:[e.jsxs("div",{className:l.modalHeader,children:[e.jsxs("h3",{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Abrir Cuestionario"]}),e.jsx("button",{onClick:a,className:l.closeButton,type:"button",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:l.modalBody,children:u?e.jsxs("div",{className:l.loading,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l.spinner,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),e.jsx("p",{children:"Cargando..."})]}):e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:l.formGroup,children:[e.jsx("label",{children:"Cuestionario Seleccionado"}),c?e.jsx("div",{className:l.cuestionarioInfo,children:e.jsxs("div",{className:l.cuestionarioCard,children:[e.jsx("h4",{children:h||"Cuestionario"}),e.jsxs("span",{className:l.cuestionarioId,children:["ID: ",c]})]})}):e.jsx("div",{className:l.loadingCuestionario,children:e.jsx("span",{children:"Cargando información del cuestionario..."})})]}),e.jsxs("div",{className:l.formGroup,children:[e.jsx("label",{htmlFor:"periodo_id",children:"Período"}),e.jsxs("select",{id:"periodo_id",value:r,onChange:s=>i(s.target.value),required:!0,className:l.selectField,children:[e.jsx("option",{value:"",children:"Seleccionar período"}),A.map(s=>e.jsxs("option",{value:s.id,children:[s.nombre," (",w(s.fecha_inicio)," - ",w(s.fecha_fin),")"]},s.id))]})]}),e.jsxs("div",{className:l.modalFooter,children:[e.jsx("button",{type:"button",onClick:a,className:l.cancelButton,children:"Cancelar"}),e.jsx("button",{type:"submit",className:l.submitButton,disabled:u||!c,children:u?"Creando...":"Crear Apertura"})]})]})})]})}):null},Ce=({cuestionarios:t,tipo:a,onAperturaClick:c,onCerrarApertura:h})=>{const f=R(),j=r=>{if(!r)return null;const i=String(r).trim(),u=i.match(/^(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2})(?::(\d{2}))?)?$/);if(!u)return new Date(i.replace(" ","T"));const[b,N,F,w,M="0",s="0",o="0"]=u;return new Date(+N,+F-1,+w,+M,+s,+o)},A=r=>{if(!r)return"No especificado";const i=j(r);return!i||isNaN(i.getTime())?"No especificado":i.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})},S=(r,i)=>{const u=new Date,b=j(r),N=j(i);return b&&u<b?{available:!1,status:"programado"}:N&&u>N?{available:!1,status:"expirado"}:{available:!0,status:"disponible"}};return e.jsx("div",{className:"card border-0",children:e.jsx("div",{className:"card-body p-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-borderless mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-0 px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:"fas fa-file-alt me-2"}),"Cuestionario"]})}),e.jsx("th",{className:"border-0 px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:"fas fa-graduation-cap me-2"}),"Programa"]})}),a==="abiertos"&&e.jsx("th",{className:"border-0 px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:"fas fa-calendar me-2"}),"Periodo"]})}),a==="abiertos"&&e.jsx("th",{className:"border-0 px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:"fas fa-play me-2"}),"Inicio"]})}),a==="abiertos"&&e.jsx("th",{className:"border-0 px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:"fas fa-stop me-2"}),"Fin"]})}),e.jsx("th",{className:"border-0 px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:"fas fa-cogs me-2"}),"Acciones"]})})]})}),e.jsx("tbody",{children:t.map(r=>{const i=a==="abiertos"?S(r.fecha_inicio,r.fecha_fin):null;return e.jsxs("tr",{className:"border-bottom",children:[e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx("h6",{className:"mb-1 fw-bold text-primary text-truncate",style:{maxWidth:"200px"},title:r.titulo||"Sin título",children:r.titulo||"Sin título"}),e.jsx("p",{className:"mb-1 text-muted small text-truncate",style:{maxWidth:"200px"},title:r.descripcion||"Sin descripción",children:r.descripcion||"Sin descripción"}),a==="abiertos"&&e.jsx("span",{className:`badge rounded-pill ${i?.status==="disponible"?"bg-info bg-opacity-10 text-info":i?.status==="expirado"?"bg-danger bg-opacity-10 text-danger":"bg-warning bg-opacity-10 text-warning"}`,children:i?.status==="programado"?"Programado":i?.status==="expirado"?"Expirado":"Disponible"})]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"badge bg-info bg-opacity-10 text-info rounded-pill text-truncate",style:{maxWidth:"150px"},title:r.programa_nombre||"No especificado",children:r.programa_nombre||"No especificado"})}),a==="abiertos"&&e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"badge bg-secondary bg-opacity-10 text-secondary rounded-pill text-truncate",style:{maxWidth:"120px"},title:r.periodo_nombre||"No especificado",children:r.periodo_nombre||"No especificado"})}),a==="abiertos"&&e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("small",{className:"text-muted d-block",children:A(r.fecha_inicio)})}),a==="abiertos"&&e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("small",{className:"text-muted d-block",children:A(r.fecha_fin)})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsxs("div",{className:"d-flex gap-2 flex-wrap justify-content-center",children:[e.jsxs("button",{onClick:()=>f(`/ver/${a==="abiertos"&&r.cuestionario_id||r.id}`),className:"btn btn-outline-secondary btn-sm",title:"Ver cuestionario",style:{borderColor:"#2c3e50",color:"#ffffff"},children:[e.jsx(J,{className:"me-1"}),"Ver"]}),a==="mis"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>c?.(r.id,r.titulo),className:"btn btn-outline-secondary btn-sm",title:"Crear apertura",style:{borderColor:"#2c3e50",color:"#ffffff"},children:[e.jsx(Q,{className:"me-1"}),"Apertura"]}),e.jsxs("button",{className:"btn btn-outline-secondary btn-sm",title:"Editar cuestionario",style:{borderColor:"#2c3e50",color:"#ffffff"},children:[e.jsx(X,{className:"me-1"}),"Editar"]})]}),a==="abiertos"&&e.jsxs("button",{onClick:()=>h?.(r.apertura_id||r.id,r.titulo||"Este cuestionario"),className:"btn btn-outline-danger btn-sm",title:"Cerrar apertura",children:[e.jsx(Z,{className:"me-1"}),"Cerrar"]})]})})]},a==="abiertos"&&r.apertura_id||r.id)})})]})})})})},ve=({activeTab:t,onTabChange:a})=>{const c=R();return e.jsxs("div",{className:"d-flex border-bottom justify-content-between align-items-center",style:{margin:"0",padding:"0"},children:[e.jsxs("div",{className:"d-flex",children:[e.jsxs("button",{className:`btn btn-link text-decoration-none border-0 rounded-0 px-4 py-3 ${t==="mis"?"border-bottom border-2":"text-muted"}`,onClick:()=>a("mis"),style:{margin:"0",color:"#ffffff",borderBottomColor:t==="mis"?"#3b82f6":"transparent",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-file-alt me-3"}),"Mis Cuestionarios"]}),e.jsxs("button",{className:`btn btn-link text-decoration-none border-0 rounded-0 px-4 py-3 ${t==="abiertos"?"border-bottom border-2":"text-muted"}`,onClick:()=>a("abiertos"),style:{margin:"0",color:"#ffffff",borderBottomColor:t==="abiertos"?"#3b82f6":"transparent",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-calendar-check me-3"}),"Cuestionarios Abiertos"]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-outline-secondary btn-sm4 d-inline-flex align-items-center gap-2 fw-semibold",onClick:()=>c("/crear-cuestionario"),style:{borderColor:"#00a19B",color:"#00a19B"},children:[e.jsx(ee,{className:"me-2"}),"Crear Cuestionario"]}),e.jsxs("button",{className:"btn btn-outline-secondary btn-sm4 d-inline-flex align-items-center gap-2 fw-semibold",onClick:()=>{const h=`${window.location.origin}/login-estudiante`;navigator.clipboard.writeText(h).then(()=>{p.fire({title:"¡Link copiado!",text:"El link del estudiante ha sido copiado al portapapeles",icon:"success",confirmButtonColor:"#22c55e",timer:2e3,showConfirmButton:!1})}).catch(()=>{p.fire({title:"Error",text:"No se pudo copiar el link al portapapeles",icon:"error",confirmButtonColor:"#ef4444"})})},style:{borderColor:"#00a19B",color:"#00a19B"},children:[e.jsx(re,{className:"me-2"}),"Copiar Link Estudiante"]})]})]})},we="_crearBtn_almqh_580",_e="_emptyMessage_almqh_1273",$={crearBtn:we,"animate-spin":"_animate-spin_almqh_718",emptyMessage:_e},Ae=({tipo:t})=>{const a=R();return t==="mis"?e.jsxs("div",{className:$.emptyMessage,children:[e.jsx("p",{children:"No has creado ningún cuestionario aún."}),e.jsxs("button",{onClick:()=>a("/crear-cuestionario"),className:$.crearBtn,style:{maxWidth:"250px",margin:"1rem auto 0"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Crear mi primer cuestionario"]})]}):e.jsx("div",{className:$.emptyMessage,children:e.jsx("p",{children:"No hay cuestionarios abiertos."})})},ke=()=>e.jsxs("div",{className:$.emptyMessage,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:$["animate-spin"],children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),e.jsx("p",{children:"Cargando..."})]});function Ee({userId:t}){const[a,c]=n.useState([]),[h,f]=n.useState([]),[j,A]=n.useState("mis"),[S,r]=n.useState(!1),[i,u]=n.useState(!1),[b,N]=n.useState(),[F,w]=n.useState(),[M,s]=n.useState(0),[o,k]=n.useState(0),H=n.useContext(V)?.user,T=H?.programa_id,I=n.useCallback(async()=>{if(t){r(!0);try{const[C,d]=await Promise.all([B.get(L.cuestionario.base),B.get(L.programas.base).catch(()=>({data:[]}))]),g=C.data,m=Array.isArray(g)?g:Array.isArray(g?.mis_cuestionarios)?g.mis_cuestionarios:Array.isArray(g?.cuestionarios)?g.cuestionarios:Array.isArray(g?.data?.cuestionarios)?g.data.cuestionarios:Array.isArray(g?.data)?g.data:[],x=d?.data?.data??d?.data,E=Array.isArray(x?.programas)?x.programas:Array.isArray(x?.programa)?x.programa:Array.isArray(d?.data)?d?.data:[],W=new Map;E.forEach(v=>{v?.id&&v?.nombre&&W.set(Number(v.id),String(v.nombre))});const _=m.map(v=>({...v,programa_nombre:v.programa_nombre||W.get(Number(v.id_programa))||v.programa||"No especificado"})),P=T?_.filter(v=>v.id_programa===T):_;c(P);const y=(await B.get(L.cuestionario.abiertos)).data,U=Array.isArray(y)?y:Array.isArray(y?.cuestionarios_abiertos)?y.cuestionarios_abiertos:Array.isArray(y?.abiertos)?y.abiertos:Array.isArray(y?.data?.cuestionarios_abiertos)?y.data.cuestionarios_abiertos:Array.isArray(y?.data?.cuestionarios)?y.data.cuestionarios:Array.isArray(y?.data)?y.data:[];f(U)}catch(C){console.error("Error al cargar cuestionarios:",C),c([]),f([])}finally{r(!1)}}},[t,T]),D=n.useCallback(async()=>{if(t)try{const d=(await B.get(L.estudiante.base).catch(E=>{if(E?.response?.status===404)return{data:{estudiantes:[]}};throw E}))?.data,m=[Array.isArray(d?.estudiantes)?d?.estudiantes:void 0,Array.isArray(d?.data?.estudiantes)?d?.data?.estudiantes:void 0,Array.isArray(d)?d:void 0].filter(Boolean)[0]||[];let x=m;if(T){const E=["id_programa","programa_id","idPrograma","programaId"];m.some(_=>E.some(P=>_?.[P]!=null))&&(x=m.filter(_=>E.some(P=>Number(_?.[P])===Number(T))))}s(x.length),k(0)}catch(C){console.error("Error al cargar estadísticas:",C),s(0),k(0)}},[t,T]),q=n.useRef(!1);n.useEffect(()=>{!t||q.current||(q.current=!0,I(),D())},[t,I,D]);const K=(C,d)=>{N(C),w(d),u(!0)},O=()=>{u(!1),N(void 0),w(void 0)};return{misCuestionarios:a,abiertos:h,activeTab:j,loading:S,modalAperturaOpen:i,selectedCuestionarioId:b,selectedCuestionarioTitulo:F,totalEstudiantes:M,respuestasPendientes:o,setActiveTab:A,handleAperturaClick:K,handleModalClose:O,handleModalSuccess:()=>{I(),O()},handleCerrarApertura:async(C,d)=>{try{const x=(await B.get(L.asignacion.obtener(H?.id||"me")).catch(()=>({data:{asignaciones:[]}})))?.data,_=([Array.isArray(x?.asignaciones)?x?.asignaciones:void 0,Array.isArray(x?.data?.asignaciones)?x?.data?.asignaciones:void 0,Array.isArray(x)?x:void 0].filter(Boolean)[0]||[]).filter(P=>Number(P?.id_apertura)===Number(C)).length;if(_>0){await p.fire({icon:"warning",title:"No se puede cerrar la apertura",text:`Esta apertura tiene ${_} asignación(es) activa(s). Elimine las asignaciones antes de cerrar la apertura.`,confirmButtonColor:"#f59e0b"});return}}catch(m){console.error("Error verificando asignaciones antes de cerrar:",m),await p.fire({icon:"error",title:"Error",text:"No se pudo verificar las asignaciones. Inténtalo nuevamente."});return}if((await p.fire({title:"¿Cerrar apertura?",text:`¿Estás seguro de que deseas cerrar la apertura del cuestionario "${d}"? Los estudiantes no podrán realizar este cuestionario una vez cerrado.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, cerrar",cancelButtonText:"Cancelar"})).isConfirmed)try{r(!0);const m=await B.delete(`/aperturas/${C}`);if(m.data.success)await p.fire({title:"¡Apertura cerrada!",text:"La apertura ha sido cerrada exitosamente.",icon:"success",confirmButtonColor:"#22c55e"}),await I();else throw new Error(m.data.error||"Error al cerrar la apertura")}catch(m){console.error("Error al cerrar apertura:",m),await p.fire({title:"Error",text:m.message||"Error de conexión al cerrar la apertura",icon:"error",confirmButtonColor:"#ef4444"})}finally{r(!1)}},cargarCuestionarios:I,cargarEstadisticas:D}}const We=()=>{const{user:t,isAuthenticated:a}=G(),{misCuestionarios:c,abiertos:h,activeTab:f,loading:j,modalAperturaOpen:A,selectedCuestionarioId:S,selectedCuestionarioTitulo:r,totalEstudiantes:i,setActiveTab:u,handleAperturaClick:b,handleModalClose:N,handleModalSuccess:F,handleCerrarApertura:w}=Ee({userId:t?.id}),M=()=>{if(j)return e.jsx(ke,{});if(!t)return e.jsx("div",{className:"text-center text-muted",children:"No hay usuario autenticado"});const s=f==="mis"?c:h;return s.length===0?e.jsx(Ae,{tipo:f}):e.jsx(Ce,{cuestionarios:s,tipo:f,onAperturaClick:f==="mis"?b:void 0,onCerrarApertura:f==="abiertos"?w:void 0})};return a?e.jsx(Y,{children:e.jsxs("div",{className:"d-flex flex-column",style:{marginTop:"0",paddingTop:"0",backgroundColor:"white",minHeight:"100vh"},children:[e.jsxs("div",{className:"container-fluid d-flex flex-column",style:{margin:"0",padding:"20px"},children:[e.jsxs("div",{className:"row g-4 mb-4",children:[e.jsx("div",{className:"col-12 col-sm-6 col-md-4",children:e.jsx("div",{className:"card border-0 shadow-sm cursor-pointer h-100",title:"Cuestionarios que has creado",style:{cursor:"pointer",backgroundColor:"#ffffff",border:"1px solid rgba(34, 197, 94, 0.1)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-4",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px",backgroundColor:"rgba(34, 197, 94, 0.1)"},children:e.jsx(se,{style:{color:"#22c55e"},size:32})}),e.jsxs("div",{className:"d-flex flex-column text-end",children:[e.jsx("h4",{className:"mb-1 fw-bold",style:{color:"#ffffff",fontSize:"2rem"},children:c.length}),e.jsx("p",{className:"text-muted mb-0 small",children:"Mis Cuestionarios"})]})]})})}),e.jsx("div",{className:"col-12 col-sm-6 col-md-4",children:e.jsx("div",{className:"card border-0 shadow-sm cursor-pointer h-100",title:"Cuestionarios abiertos para resolver",style:{cursor:"pointer",backgroundColor:"#ffffff",border:"1px solid rgba(59, 130, 246, 0.1)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-4",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px",backgroundColor:"rgba(59, 130, 246, 0.1)"},children:e.jsx(ae,{className:"mb-1",style:{color:"#3b82f6"},size:32})}),e.jsxs("div",{className:"d-flex flex-column text-end",children:[e.jsx("h4",{className:"mb-1 fw-bold",style:{color:"#ffffff",fontSize:"2rem"},children:h.length}),e.jsx("p",{className:"text-muted mb-0 small",children:"Cuestionarios Abiertos"})]})]})})}),e.jsx("div",{className:"col-12 col-sm-12 col-md-4",children:e.jsx("div",{className:"card border-0 shadow-sm cursor-pointer h-100",title:"Estudiantes del programa",style:{cursor:"pointer",backgroundColor:"#ffffff",border:"1px solid rgba(245, 158, 11, 0.1)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-4",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px",backgroundColor:"rgba(245, 158, 11, 0.1)"},children:e.jsx(te,{style:{color:"#f59e0b"},size:32})}),e.jsxs("div",{className:"d-flex flex-column text-end",children:[e.jsx("h4",{className:"mb-1 fw-bold",style:{color:"#f59e0b",fontSize:"2rem"},children:i}),e.jsx("p",{className:"text-muted mb-0 small",children:"Estudiantes"})]})]})})})]}),e.jsx("div",{className:"row g-4 mb-4"}),e.jsx("div",{className:"row flex-grow-1",style:{margin:"0"},children:e.jsx("div",{className:"col-12 d-flex flex-column",children:e.jsxs("div",{className:"card border-0 shadow-sm flex-grow-1 d-flex flex-column",style:{backgroundColor:"#ffffff",border:"1px solid rgba(59, 130, 246, 0.1)"},children:[e.jsx("div",{className:"card-header border-0 py-3",style:{backgroundColor:"transparent"},children:e.jsx(ve,{activeTab:f,onTabChange:u,misCuestionariosCount:c.length,abiertosCount:h.length})}),e.jsx("div",{className:"card-body p-0 flex-grow-1 d-flex flex-column",children:M()})]})})})]}),e.jsx(Ne,{isOpen:A,onClose:N,cuestionarioId:S,cuestionarioTitulo:r,onSuccess:F})]})}):e.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f8f9fa"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{children:"No estás autenticado"}),e.jsx("p",{children:"Redirigiendo al login..."})]})})};export{We as default};
