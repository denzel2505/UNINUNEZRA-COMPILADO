import{j as e,f as ce,r as t,c as $,A as U,e as je,a as _e,i as ve}from"./index-4_f5pIIv.js";import{G as Se}from"./iconBase-BPqFUofc.js";import{n as Ee,R as Ae}from"./index-O__zhACk.js";function le({raList:a,puntajeObtenido:i,moduleTitle:n}){if(!(Array.isArray(a)&&a.length>0))return e.jsxs("div",{className:"matriz",children:[e.jsxs("div",{className:"matriz__titulo",children:[e.jsx("div",{children:"MATRIZ COMPARATIVA ENTRE RESULTADOS DE APRENDIZAJE Y NIVELES DE DESEMPEÑO."}),e.jsx("div",{children:"RESULTADOS DE APRENDIZAJE ESPECÍFICOS – TEORÍAS Y CONCEPCIONES JURÍDICAS Y SOCIOJURÍDICAS DEL DERECHO"})]}),e.jsxs("div",{className:"matriz__tabla",children:[e.jsx("div",{className:"th th--modulo",children:"MÓDULO"}),e.jsxs("div",{className:"th th--nivel",children:["NIVEL DE",e.jsx("br",{}),"DESEMPEÑO"]}),e.jsx("div",{className:"th th--res",children:"RESULTADOS DE APRENDIZAJE"}),e.jsx("div",{className:"td td--modulo","row-span":"4",children:e.jsx("div",{className:"modulo__nombre",children:"TEORÍAS Y CONCEPCIONES JURÍDICAS Y SOCIOJURÍDICAS DEL DERECHO"})}),[1,2,3,4].map(c=>e.jsxs(ce.Fragment,{children:[e.jsx("div",{className:"td td--nivel",children:c}),e.jsx("div",{className:"td td--res",children:e.jsx("p",{children:"Contenido no disponible"})})]},c))]})]});const m=String(n||a?.[0]?.descripcion||"").trim(),f=[...a].sort((c,p)=>Number(c.nivel||0)-Number(p.nivel||0)),x=Number(i??NaN),r=(()=>{const c=m||(a?.[0]?.descripcion??"")||"ra";let p=0;for(let j=0;j<c.length;j++)p=(p<<5)-p+c.charCodeAt(j),p|=0;const o=Math.abs(p)%360,N=65,S=88,g=Math.max(40,S-30);return{bg:`hsl(${o} ${N}% ${S}%)`,border:`hsl(${o} ${N}% ${g}%)`,badgeBg:`hsl(${o} ${Math.max(45,N-20)}% ${Math.min(95,S+2)}%)`,badgeText:"#064e3b"}})();return e.jsxs("div",{className:"matriz",children:[e.jsxs("div",{className:"matriz__titulo",children:[e.jsx("div",{children:"MATRIZ COMPARATIVA ENTRE RESULTADOS DE APRENDIZAJE Y NIVELES DE DESEMPEÑO."}),e.jsxs("div",{children:["RESULTADOS DE APRENDIZAJE ESPECÍFICOS – ",m||"—"]})]}),e.jsxs("div",{className:"matriz__tabla",children:[e.jsx("div",{className:"th th--modulo",children:"MÓDULO"}),e.jsxs("div",{className:"th th--nivel",children:["NIVEL DE",e.jsx("br",{}),"DESEMPEÑO"]}),e.jsx("div",{className:"th th--res",children:"RESULTADOS DE APRENDIZAJE"}),e.jsx("div",{className:"td td--modulo","row-span":"4",children:e.jsx("div",{className:"modulo__nombre",children:m||"—"})}),f.map((c,p)=>{const o=Number(c.puntaje_min??NaN),N=Number(c.puntaje_max??NaN),S=Number.isFinite(x)&&Number.isFinite(o)&&Number.isFinite(N)?x>=o&&x<=N:!1;return e.jsxs(ce.Fragment,{children:[e.jsx("div",{className:"td td--nivel",style:S?{background:r.bg,borderLeft:`4px solid ${r.border}`}:void 0,children:String(c.nivel??"")}),e.jsxs("div",{className:"td td--res",style:S?{background:r.bg}:void 0,children:[S&&e.jsx("div",{style:{display:"inline-block",background:r.badgeBg,color:r.badgeText,border:`1px solid ${r.border}`,borderRadius:6,padding:"4px 8px",fontWeight:600,marginBottom:6},children:"Usted está ubicado aquí"}),String(c.indicadores||"").split(/\n|\r|\r\n|\.|;|\•/).map((g,j)=>{const O=g.trim();return O?e.jsx("p",{children:O},j):null})]})]},c.id??p)})]})]})}function de(a){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.178 19.569a.998.998 0 0 0 1.644 0l9-13A.999.999 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13z"},child:[]}]})(a)}function ye(a){const i=String(a||"ra");let n=0;for(let r=0;r<i.length;r++)n=(n<<5)-n+i.charCodeAt(r),n|=0;const l=Math.abs(n)%360,m=65,f=88,x=Math.max(40,f-30);return{bg:`hsl(${l} ${m}% ${f}%)`,border:`hsl(${l} ${m}% ${x}%)`,badgeBg:`hsl(${l} ${Math.max(45,m-20)}% ${Math.min(95,f+2)}%)`,badgeText:"#064e3b"}}function Ie(a){const i=t.useMemo(()=>{const l=a?.state?.informesList,m=Array.isArray(l)?l:[],f=new Map;for(const r of m){const c=r?.cuestionario_id??r?.id,p=String(c??"");if(!p)continue;const o=f.get(p);if(!o)f.set(p,r);else{const N=new Date(r?.fecha_fin||r?.fecha_inicio||0).getTime(),S=new Date(o?.fecha_fin||o?.fecha_inicio||0).getTime();(isFinite(N)&&isFinite(S)?N>=S:(r?.intento_id??0)>=(o?.intento_id??0))&&f.set(p,r)}}const x=Array.from(f.values());return x.sort((r,c)=>{const p=String(r?.cuestionario_titulo||r?.cuestionario_descripcion||`Cuestionario ${r?.cuestionario_id??""}`),o=String(c?.cuestionario_titulo||c?.cuestionario_descripcion||`Cuestionario ${c?.cuestionario_id??""}`),N=p.localeCompare(o,void 0,{numeric:!0,sensitivity:"base"});if(N!==0)return N;const S=Number(r?.puntaje_total??0);return Number(c?.puntaje_total??0)-S}),x.map(r=>({id:String(r?.cuestionario_id??""),titulo:String(r?.cuestionario_titulo||r?.cuestionario_descripcion||`Cuestionario ${r?.cuestionario_id??""}`),puntaje:Number(r?.puntaje_total??NaN)}))},[a]),n=t.useMemo(()=>{const l=i.map(f=>Number(f.puntaje)).filter(f=>Number.isFinite(f));if(l.length===0)return null;const m=l.reduce((f,x)=>f+x,0);return Math.round(m/l.length*100)/100},[i]);return{informesAcumulados:i,promedioAcumulado:n}}function De(a){const[i,n]=t.useState({}),[l,m]=t.useState(!1);return t.useEffect(()=>{const x=a.map(r=>r.id).filter(Boolean).filter(r=>!(r in i));x.length!==0&&(m(!0),(async()=>{try{const r=await Promise.all(x.map(async c=>{const o=(await $.get(U.cuestionario.mostrarNivel(c)))?.data??{},N=Array.isArray(o?.data?.ra)?o.data.ra:Array.isArray(o?.ra)?o.ra:Array.isArray(o)?o:[];return{id:c,list:N}}));n(c=>{const p={...c};for(const o of r)p[o.id]=o.list;return p})}finally{m(!1)}})())},[a,i]),{raByCuest:i,loadingRa:l}}function Re(a){const[i,n]=t.useState(""),[l,m]=t.useState(""),[f,x]=t.useState(null),[r,c]=t.useState(!1);return t.useEffect(()=>{const p=a?.programa_id!=null?String(a.programa_id):void 0;p&&(c(!0),(async()=>{try{const o=await $.get(U.programas.base),N=o?.data?.data??o?.data??[],g=(Array.isArray(N?.programas)?N.programas:Array.isArray(N)?N:[]).find(j=>String(j?.id)===p);if(g){g?.nombre&&n(String(g.nombre));const j=g?.campus_nombre||g?.sede||g?.ciudad||g?.ubicacion;j&&m(String(j));const O=g?.nivel_puntaje_maximo??g?.puntaje_maximo??g?.puntaje_max??g?.max_score??g?.maximo??0,P=Number(O);isFinite(P)&&P>0&&x(P)}}finally{c(!1)}})())},[a?.programa_id]),{nombre:i,sede:l,maxScore:f,loading:r}}function Ce(a){const{promedioAcumulado:i,puntajeObtenido:n,programaMaxScore:l,porcentaje:m}=a;return t.useMemo(()=>{const x=isFinite(Number(l))&&Number(l)>0?Number(l):300,r=i??n;if(r!=null){const c=Math.round((Number(r)||0)/x*100);return Math.max(0,Math.min(100,c))}return m!=null?Math.max(0,Math.min(100,Math.round(m))):null},[i,n,l,m])}const Me=({onBack:a,onPrint:i})=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center no-print",style:{marginBottom:16},children:[e.jsxs("button",{className:"btn btn-secondary",onClick:a,children:[e.jsx(Ee,{className:"me-2"})," Volver"]}),e.jsxs("button",{className:"btnImprimir",onClick:i||(()=>window.print()),children:[e.jsx(Ae,{className:"me-2"})," Imprimir"]})]});function Oe(a){return t.useMemo(()=>{if(!a)return{};const i={};try{const n=a?.fecha_fin||a?.fecha_inicio;if(n)try{i.fechaAplicacion=new Date(n).toLocaleString()}catch{i.fechaAplicacion=String(n)}if(a?.intento_id!=null&&(i.numeroRegistro=String(a.intento_id)),a?.estudiante_nombre){const l=String(a.estudiante_nombre),m=l.trim().split(/\s+/);m.length>=2?(i.apellidos=m.slice(-1).join(" "),i.nombres=m.slice(0,-1).join(" ")):i.nombres=l}if(a?.estudiante_identificacion&&(i.identificacion=String(a.estudiante_identificacion)),a?.programa_nombre&&(i.programaNombre=String(a.programa_nombre)),a?.puntaje_total!=null){const l=Number(a.puntaje_total);Number.isNaN(l)||(i.puntajeObtenido=l)}a?.cuestionario_titulo&&(i.cuestionarioTitulo=String(a.cuestionario_titulo))}catch{}return i},[a])}function Pe(a){const[i,n]=t.useState(!1),[l,m]=t.useState(null),[f,x]=t.useState([]),[r,c]=t.useState([]),[p,o]=t.useState(null),[N,S]=t.useState(null),[g,j]=t.useState(""),[O,P]=t.useState(null);return t.useEffect(()=>{(async()=>{if(a)try{n(!0),m(null);let d;const T=new URLSearchParams(window.location.search),L=Number(T.get("estudianteIdParams")||0),q=Number(T.get("estudianteId")||T.get("id")||"0");if(L>0)d=L;else if(q>0)d=q;else try{const u=localStorage.getItem("user");if(u){const E=JSON.parse(u);E&&typeof E.id<"u"&&(d=Number(E.id))}}catch{}const J=await $.post(U.ver.obtenerintento(),{cuestionario_id:Number(a),estudiante_id:d}),B=J?.data?.data??J?.data;if(!B||B?.error)throw new Error(B?.error||"No se encontró intento reciente");o(B);const R=await $.get(U.cuestionario.mostrarNivel(a)),F=R?.data?.data??R?.data,C=(Array.isArray(F?.niveles)?F.niveles:Array.isArray(F?.ra)?F.ra:Array.isArray(R?.data?.ra)?R.data.ra:Array.isArray(R?.data)?R.data:[]).map(u=>({puntaje_min:Number(u?.puntaje_min??u?.min??0)||0,puntaje_max:Number(u?.puntaje_max??u?.max??0)||0,indicadores:String(u?.indicadores??u?.descripcion??""),descripcion:String(u?.descripcion??""),programa_id:u?.programa_id??u?.programa??void 0,nivel:u?.nivel??void 0,id:u?.id??void 0}));x(C),c(C.map(u=>u.descripcion||u.indicadores).filter(Boolean));let k;if(Array.isArray(C)&&C.length>0){const u=C.find(E=>E?.programa_id!=null)||C[0];u&&u.programa_id!=null&&(k=u.programa_id)}if(k!=null&&k!==""){try{const u=await $.get(U.programas.byId(k)),E=u?.data?.data??u?.data??{},y=E?.programa??E,Y=y?.nivel_puntaje_maximo??y?.puntaje_maximo??y?.puntaje_max??y?.max_score??y?.maximo??E?.nivel_puntaje_maximo,V=Number(Y??0);isFinite(V)&&V>0&&S(V),y?.nombre&&j(String(y.nombre))}catch{}try{const u=await $.get(U.seguimiento.info(Number(a))),E=u?.data?.data??u?.data??{},y=Number(E?.promedio_puntaje??E?.promedio_puntos??E?.promedio??0);isFinite(y)&&y>0&&P(y)}catch{}}}catch(d){const T=d?.response?.data?.message||d?.message||"Error al cargar datos";m(T)}finally{n(!1)}})()},[a]),{loading:i,error:l,niveles:f,raDescs:r,intento:p,programaMaxScore:N,programaNombre:g,programaPromedioScore:O}}function Te(){const a=je();return t.useMemo(()=>{const n=a.id;if(n)return n;const l=new URLSearchParams(window.location.search);return l.get("cuestionarioId")||l.get("id")||void 0},[a.id])}function $e(){const a=_e(),i=ve(),n=i?.state?.informePeriodo,l=Te(),[m,f]=t.useState("/logo2.png"),[x,r]=t.useState(!1),[c,p]=t.useState(null),[o,N]=t.useState(null),[S,g]=t.useState(null),[j,O]=t.useState([]),[P,ae]=t.useState([]),[d,T]=t.useState(null),[L,q]=t.useState(null),[J,B]=t.useState(""),[R,F]=t.useState(""),[G,C]=t.useState(""),[k,u]=t.useState(""),[E,y]=t.useState(""),[Y,V]=t.useState(""),[me,W]=t.useState(""),[ue,pe]=t.useState(""),_=Oe(n);t.useEffect(()=>{_&&(_.fechaAplicacion&&F(_.fechaAplicacion),_.numeroRegistro&&C(_.numeroRegistro),_.nombres&&u(_.nombres),_.apellidos&&y(_.apellidos),_.identificacion&&V(_.identificacion),_.programaNombre&&W(_.programaNombre),typeof _.puntajeObtenido<"u"&&N(_.puntajeObtenido),_.cuestionarioTitulo&&B(_.cuestionarioTitulo))},[_]);const he=s=>{const h=isFinite(Number(d))&&Number(d)>0?Number(d):300;if(s==null)return null;const b=Math.round((Number(s)||0)/h*100);return Math.max(0,Math.min(100,b))},[Q,fe]=t.useState(null),[K,Ne]=t.useState(null),[X,ge]=t.useState(null);t.useEffect(()=>{try{const b=String(i?.pathname||"").match(/\/reporte-aprendizaje\/estudiante\/(\d+)/)?.[1],v=n?.estudiante_id??n?.estudianteId,I=b??v??null;I!=null&&fe(I)}catch{}try{const h=new URLSearchParams(String(i?.search||"")).get("programaId"),b=n?.programa_id??n?.programaId,v=h??b??null;v!=null&&Ne(v)}catch{}try{const s=n?.periodo_id??n?.periodoId??null;s!=null&&ge(s)}catch{}},[i?.pathname,i?.search,n]),t.useEffect(()=>{async function s(){if(!(!Q||!K))try{const h={estudiante_id:Number(Q),programa_id:Number(K)};X&&(h.periodo_id=Number(X));const v=(await $.post(U.informes.informes_promedio,h))?.data??{},I=v?.data??v,w=Number(I?.programa?.promedio_general),M=Number(I?.comparacion?.percentil);Number.isFinite(w)&&q(w),Number.isFinite(M)&&g(M)}catch{}}s()},[Q,K,X]);const te=t.useMemo(()=>{if(!Array.isArray(j)||j.length===0)return[];const s=new Map;for(const h of j){const b=String(h?.descripcion||h?.indicadores||"").trim().toLowerCase();if(!s.has(b))s.set(b,h);else{const v=s.get(b),I={...v,puntaje_max:Math.max(Number(v.puntaje_max||0),Number(h.puntaje_max||0)),puntaje_min:Math.min(Number(v.puntaje_min||0),Number(h.puntaje_min||0)),programa_id:v.programa_id??h.programa_id};s.set(b,I)}}return Array.from(s.values())},[j]),A=Pe(l);t.useEffect(()=>{if(r(A.loading),p(A.error),A.niveles&&O(A.niveles),A.raDescs&&ae(A.raDescs),A.programaMaxScore!=null&&T(A.programaMaxScore),A.programaNombre&&W(s=>s||A.programaNombre),A.programaPromedioScore!=null&&q(A.programaPromedioScore),A.intento){const s=A.intento;if(typeof s.puntaje_obtenido<"u"&&N(Number(s.puntaje_obtenido)||0),typeof s.porcentaje<"u"&&g(Number(s.porcentaje)||null),s.fecha_respuesta&&!R)try{F(new Date(s.fecha_respuesta).toLocaleString())}catch{F(String(s.fecha_respuesta))}(s.intento_id||s.id)&&!G&&C(String(s.intento_id??s.id))}},[A]);const{nombre:ee,sede:se,maxScore:Z}=Re(n);t.useEffect(()=>{ee&&W(s=>s||ee),se&&pe(s=>s||se),Z&&isFinite(Number(Z))&&Number(Z)>0&&T(s=>s||Number(Z))},[ee,se,Z]);const{informesAcumulados:D,promedioAcumulado:re}=Ie(i),{raByCuest:ie}=De(D),[z,ne]=t.useState(null);t.useEffect(()=>{!z&&D.length>0&&ne(D[0].id||null)},[D,z]);const xe=t.useMemo(()=>{const s=D.find(h=>h.id===z);return s&&Number.isFinite(Number(s.puntaje))?Number(s.puntaje):o??null},[D,z,o]),oe=Ce({promedioAcumulado:re,puntajeObtenido:o,programaMaxScore:d,porcentaje:S});return e.jsxs("div",{className:"reporte fadeIn",children:[e.jsx(Me,{onBack:()=>a("/reporte-aprendizaje")}),e.jsxs("header",{className:"reporte__encabezado",children:[e.jsxs("div",{className:"reporte__logo",children:[e.jsx("img",{className:"logo__img",src:m,alt:"Logo",onError:()=>f("/logo2.svg")}),e.jsx("div",{className:"logo__texto",children:e.jsxs("span",{children:["Corporación Universitaria",e.jsx("br",{}),"Rafael Núñez"]})})]}),e.jsxs("div",{className:"reporte__titulo",children:[e.jsx("div",{className:"titulo__principal",children:"REPORTE INDIVIDUAL DE RESULTADOS DE APRENDIZAJE"}),e.jsx("div",{className:"titulo__sub",children:"Aplicación de prueba de resultados de aprendizaje específicos"})]}),e.jsx("div",{className:"reporte__espacio"})]}),e.jsxs("section",{className:"reporte__grid",children:[e.jsxs("div",{className:"reporte__panel",children:[e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"FECHA DE APLICACIÓN:"}),e.jsx("span",{children:R||"-"})]}),e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"NÚMERO DE REGISTRO:"}),e.jsx("span",{children:G||"-"})]}),e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"NOMBRES:"}),e.jsx("span",{children:k||"-"})]}),e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"APELLIDOS:"}),e.jsx("span",{children:E||"-"})]}),e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"IDENTIFICACIÓN:"}),e.jsx("span",{children:Y||"-"})]}),e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"PROGRAMA:"}),e.jsx("span",{children:me||"-"})]}),e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"NÚCLEO BÁSICO DE CONOCIMIENTO:"}),e.jsx("span",{style:{textTransform:"uppercase"},children:"Educación"})]}),e.jsxs("div",{className:"fila",children:[e.jsx("span",{className:"etq",children:"SEDE:"}),e.jsx("span",{children:ue||"-"})]})]}),e.jsxs("div",{className:"reporte__panel",children:[e.jsx("div",{className:"panel__titulo",children:"PROMEDIO GENERAL DEL ESTUDIANTE"}),e.jsxs("div",{className:"promedio",children:[e.jsxs("div",{children:["De ",isFinite(Number(d))&&Number(d)>0?d:300," puntos posibles, su puntaje es:"]}),e.jsx("div",{className:"promedio__valor",children:x?"...":re??o??"-"})]}),e.jsx("div",{className:"panel__titulo",children:"UBICACIÓN PERCENTIL DEL ESTUDIANTE"}),e.jsx("p",{className:"panel__desc",children:"Describe la ubicación del promedio general obtenido por el estudiante dentro de todos los estudiantes evaluados del programa."}),e.jsxs("div",{className:"barra-colores",children:[[{c:"#ff0000",t:"0"},{c:"#ff2a00",t:"10"},{c:"#ff6a00",t:"20"},{c:"#ffa800",t:"30"},{c:"#ffd000",t:"40"},{c:"#fff000",t:"50"},{c:"#e7ff00",t:"60"},{c:"#b5ff00",t:"70"},{c:"#7dff00",t:"80"},{c:"#43e400",t:"90"},{c:"#1ac300",t:"100"}].map((s,h)=>e.jsx("div",{className:"bloque",style:{backgroundColor:s.c},children:s.t},h)),oe!=null&&e.jsx("div",{className:"indicador",style:{left:`${oe}%`,backgroundColor:"transparent",fontSize:"1rem",marginTop:"-0.5rem"},children:e.jsx(de,{})})]}),isFinite(Number(d))&&Number(d)>0&&e.jsxs("div",{style:{marginTop:8,fontSize:"0.9rem",color:"#6c757d"},children:["Puntaje máximo del programa: ",e.jsx("strong",{children:d})]})]})]}),e.jsxs("section",{className:"reporte__notas",children:[e.jsxs("div",{className:"nota nota--texto",children:[e.jsxs("p",{children:["Para esta valoración se tiene en cuenta: Un puntaje que va de 0 a ",isFinite(Number(d))&&Number(d)>0?d:300,", siendo ",isFinite(Number(d))&&Number(d)>0?d:300," el más alto y 0 el de menor valor. Se encuentra el valor obtenido por el estudiante y la media/valor de referencia del programa."]}),e.jsxs("div",{className:"tabla__header tabla__header--separado",children:[e.jsx("div",{className:"th__titulo",children:"RESULTADOS DE APRENDIZAJES ESPECÍFICOS"}),e.jsxs("div",{className:"chipbox chipbox--num",children:[e.jsx("div",{className:"chip",children:"PUNTAJE"}),e.jsx("div",{className:"chip chip--gris",children:"INDIVIDUAL"})]}),e.jsxs("div",{className:"chipbox",children:[e.jsx("div",{className:"chip",children:"PROMEDIO"}),e.jsx("div",{className:"chip chip--gris",children:"PROGRAMA"})]})]})]}),e.jsxs("div",{className:"nota nota--texto nota--split",children:[e.jsx("p",{children:"Describe la posición percentil del evaluado con relación a su programa académico de DERECHO | CARTAGENA (▼) según cada una de las competencias específicas."}),e.jsx("div",{className:"nota nota--titulo",children:"¿EN QUÉ PERCENTIL ME ENCUENTRO?"})]})]}),e.jsxs("section",{className:"reporte__tabla",children:[D.length>0&&e.jsx(e.Fragment,{children:D.map((s,h)=>{const b=ye(s.titulo),v=b.bg,I=b.border;return e.jsxs("div",{className:"fila-res",style:{cursor:"pointer",background:v,borderLeft:`4px solid ${I}`},onClick:()=>ne(s.id),children:[e.jsx("div",{className:"res__titulo",children:s.titulo}),e.jsxs("div",{className:"res__numeros",children:[e.jsx("div",{className:"num",style:{background:v,border:`1px solid ${I}`},children:Number.isFinite(s.puntaje)?s.puntaje:"-"}),e.jsx("div",{className:"num num--gris",children:isFinite(Number(L))?Number(L):"-"})]}),(()=>{const w=he(Number.isFinite(s.puntaje)?Number(s.puntaje):null);return e.jsx("div",{style:{marginTop:8},children:e.jsxs("div",{className:"barra-colores barra-colores--compacta",children:[[{c:"#ff0000",t:"0"},{c:"#ff2a00",t:"10"},{c:"#ff6a00",t:"20"},{c:"#ffa800",t:"30"},{c:"#ffd000",t:"40"},{c:"#fff000",t:"50"},{c:"#e7ff00",t:"60"},{c:"#b5ff00",t:"70"},{c:"#7dff00",t:"80"},{c:"#43e400",t:"90"},{c:"#1ac300",t:"100"}].map((M,H)=>e.jsx("div",{className:"bloque",style:{backgroundColor:M.c},children:M.t},H)),w!=null&&e.jsx("div",{className:"indicador mini",style:{left:`${w}%`,backgroundColor:"transparent",border:"none",boxShadow:"none",padding:0},children:e.jsx(de,{})})]})})})()]},`acum-${h}`)})}),(te?.length?te:[]).map((s,h)=>{const b=isFinite(Number(L))&&Number(L)>0?Number(L):null,v=o??0,I=isFinite(Number(d))&&Number(d)>0?Number(d):300,w=Math.max(0,Math.min(100,Math.round((Number(v)||0)/I*100))),M=b!=null?Math.max(0,Math.min(100,Math.round((Number(b)||0)/I*100))):null;return e.jsxs("div",{className:"fila-res",children:[e.jsx("div",{className:"res__titulo",children:s?.descripcion||s.indicadores||`RA ${h+1}`}),e.jsxs("div",{className:"res__numeros",children:[e.jsx("div",{className:"num",children:v}),e.jsx("div",{className:"num num--gris",children:b??"-"})]}),e.jsx("div",{className:"res__percentil",children:e.jsxs("div",{className:"barra-colores barra-colores--compacta",children:[[{c:"#ff0000",t:"0"},{c:"#ff2a00",t:"10"},{c:"#ff6a00",t:"20"},{c:"#ffa800",t:"30"},{c:"#ffd000",t:"40"},{c:"#fff000",t:"50"},{c:"#e7ff00",t:"60"},{c:"#b5ff00",t:"70"},{c:"#7dff00",t:"80"},{c:"#43e400",t:"90"},{c:"#1ac300",t:"100"}].map((H,be)=>e.jsx("div",{className:"bloque",style:{backgroundColor:H.c},children:H.t},be)),e.jsx("div",{className:"indicador mini",style:{left:`${w}%`},children:w}),M!=null&&e.jsx("div",{className:"indicador mini",style:{left:`${M}%`,backgroundColor:"#0b5ed7"},title:"Promedio programa",children:M})]})})]},h)}),!x&&!j?.length&&D.length===0&&e.jsxs("div",{className:"fila-res",children:[e.jsx("div",{className:"res__titulo",children:J?e.jsx(e.Fragment,{children:J}):P.length>0?e.jsx("div",{className:"d-flex flex-column gap-1",children:P.map((s,h)=>e.jsx("div",{children:s},h))}):e.jsx(e.Fragment,{children:"Sin datos de niveles aún"})}),e.jsxs("div",{className:"res__numeros",children:[e.jsx("div",{className:"num",children:o??"-"}),e.jsx("div",{className:"num num--gris",children:isFinite(Number(d))&&Number(d)>0?d:"-"})]})]}),c&&e.jsx("div",{className:"fila-res",children:e.jsxs("div",{className:"res__titulo",children:["Error: ",c]})})]}),e.jsx("section",{className:"reporte__matriz",children:D.length>0?e.jsx(e.Fragment,{children:D.map(s=>e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontWeight:600,marginBottom:8,borderLeft:"4px solid #00a19B",paddingLeft:8,color:"#374151",marginTop:84},children:["Matriz: ",s.titulo]}),e.jsx(le,{raList:ie[s.id]||[],puntajeObtenido:Number.isFinite(Number(s.puntaje))?Number(s.puntaje):o,moduleTitle:s.titulo})]},`mat-${s.id}`))}):e.jsx(le,{raList:z&&ie[z]||i?.state?.raList,puntajeObtenido:xe})})]})}export{$e as default};
