import{a as V,c as he,r as f,b as F,A as L,S as ge,j as e}from"./index-DMCNFzKN.js";import{P as B}from"./PageTransition-BtYAuUMO.js";import{m as pe,l as Z,Q as U,k as A,z as M,C as ee,R as te,j as fe,S as je,N as T,d as be,c as ye,e as ve,t as Ne,T as _e}from"./index-3Pp9WEVo.js";import"./iconBase-D9d8KM2X.js";const Se=()=>{const t=V(),o=he(),[l,p]=f.useState([]),[x,g]=f.useState(null),[h,a]=f.useState([]),[u,y]=f.useState(null),[W,N]=f.useState(!0),[E,r]=f.useState(null),d=f.useRef(!1),c=f.useCallback(async()=>{try{N(!0),r(null);const i=await F.get(L.seguimiento.allquiz),m=i?.data?.data??i?.data??{},S=Array.isArray(m?.cuestionarios)?m.cuestionarios:Array.isArray(m?.data)?m.data:Array.isArray(i?.data)?i.data:Array.isArray(m)?m:[];p(S)}catch(i){console.error("Error al cargar cuestionarios:",i),r(i instanceof Error?i.message:"Error al cargar cuestionarios")}finally{N(!1)}},[]);f.useEffect(()=>{d.current||(d.current=!0,c())},[c]),f.useEffect(()=>{const i=()=>{document.hidden||c()},m=()=>{c()};return document.addEventListener("visibilitychange",i),window.addEventListener("focus",m),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("focus",m)}},[c]),f.useEffect(()=>{o.pathname.includes("/vista-resultado")&&c()},[o.pathname,c]);const w=async i=>{try{N(!0);const[m,S]=await Promise.all([F.get(L.seguimiento.info(i)),F.get(L.resultado.resultado_general(i))]),n=m?.data?.data??m?.data??{},j=S?.data?.data??S?.data??{},H=s=>{if(!s)return null;const b=new Date(String(s).replace(/\//g,"-"));return isNaN(b.getTime())?null:b},re=s=>s===1||s==="1"||s===!0||s==="true"||String(s).toLowerCase()==="activo"||String(s).toLowerCase()==="activa"||String(s).toLowerCase()==="abierto"||String(s).toLowerCase()==="abierta"||String(s).toLowerCase()==="open",I=H(n?.fecha_inicio??n?.inicio),$=H(n?.fecha_fin??n?.fin),Y=new Date,ae=I&&$?Y>=I&&Y<=$:!1,q=n?.activo!==void 0?n?.activo:n?.apertura_activa!==void 0?n?.apertura_activa:n?.estado!==void 0?n?.estado:void 0,oe=q!==void 0?re(q):ae,G=n?{apertura_id:Number(n.apertura_id??n.id??i),cuestionario_id:Number(n.cuestionario_id??n.id_cuestionario??n.id??n.cuestionario?.id??0),titulo:String(n.titulo??n.cuestionario_titulo??n.cuestionario?.titulo??"Cuestionario"),descripcion:String(n.descripcion??n.cuestionario_descripcion??n.cuestionario?.descripcion??""),programa_nombre:String(n.programa_nombre??n.programa??n.cuestionario?.programa_nombre??"No especificado"),periodo_nombre:String(n.periodo_nombre??n.periodo??"No especificado"),fecha_inicio:String(n.fecha_inicio??n.inicio??""),fecha_fin:String(n.fecha_fin??n.fin??""),apertura_activa:oe?1:0}:null,R=(Array.isArray(j?.estudiantes)?j.estudiantes:Array.isArray(j)?j:Array.isArray(S?.data)?S.data:[]).map(s=>{const b=Number(s.estudiante_id??s.id??s.id_estudiante??0),le=Number(s.total_preguntas??0),K=Number(s.respuestas_correctas??s.correctas??0),k=s.porcentaje??s.puntaje??null,de=k==null?0:Number(k),Q=s.fecha_respuesta??s.fecha??null,me=s.intento_id??s.id_intento??null,z=s.ha_intentado??s.completado??s.estado,ue=s.puntaje_obtenido??s.puntajeObtenido??null,xe=!!(me||Q||k!==null||ue!==null||K>0||z===1||String(z).toLowerCase()==="1"||z===!0||String(z).toLowerCase()==="true"||String(z).toLowerCase()==="completado");return{estudiante_id:b,estudiante_nombre:String(s.estudiante_nombre??s.nombre??""),identificacion:String(s.identificacion??s.cedula??""),email:String(s.email??s.correo??""),total_preguntas:le,respuestas_correctas:K,porcentaje:de,fecha_respuesta:Q,puntaje_total:Number(s.puntaje_total??s.total??0),completado:xe}}),C=R.length,ne=C>0?Math.round(R.reduce((s,b)=>s+(b.porcentaje||0),0)/C):0,ie=C>0?Math.round(R.reduce((s,b)=>s+(b.respuestas_correctas||0),0)/C):0,ce={total_estudiantes:Number(j?.total_estudiantes??C),promedio_porcentaje:Number(j?.promedio_porcentaje??ne),promedio_respuestas_correctas:Number(j?.promedio_respuestas_correctas??ie),total_preguntas_cuestionario:(j?.total_preguntas_cuestionario??G,0)};g(G),a(R),y(ce)}catch(m){console.error("Error al cargar detalles:",m),ge.fire({icon:"error",title:"Error",text:"No se pudieron cargar los detalles del cuestionario"})}finally{N(!1)}},_=(i,m)=>{t(`/ver-respuesta/${i}/${m}`)},v=i=>`${i.toFixed(1)}%`,se=i=>i>=80?"success":i>=60?"warning":"danger",O=i=>i===1?"activo":"cerrado",D=i=>i===1?"âœ…":"ðŸ“‹";return{cuestionarios:l,aperturaSeleccionada:x,resultadosEstudiantes:h,estadisticasApertura:u,loading:W,error:E,handleSeleccionarCuestionario:w,handleVerRespuestas:_,formatearPorcentaje:v,getPorcentajeColor:se,getEstadoCuestionario:O,getIconoEstado:D,getEstadisticasRapidas:i=>({respondieron:i.total_estudiantes_respondieron,estado:O(i.apertura_activa),icono:D(i.apertura_activa)}),cargarCuestionarios:c,refrescarDatos:c}},we=()=>{const t=V(),o=()=>{t("/seguimiento")};return e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4 p-3",style:{backgroundColor:"#00a19B",borderRadius:"0.375rem",color:"white"},children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("button",{className:"btn btn-outline-light btn-sm d-flex align-items-center justify-content-center",onClick:o,type:"button",title:"Volver al seguimiento",style:{borderColor:"rgba(255, 255, 255, 0.3)",color:"white",transition:"all 0.2s ease",width:"40px",height:"40px"},onMouseOver:l=>{l.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",l.currentTarget.style.borderColor="rgba(255, 255, 255, 0.5)"},onMouseOut:l=>{l.currentTarget.style.backgroundColor="transparent",l.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"},children:e.jsx(pe,{size:14})}),e.jsxs("h1",{className:"mb-0 text-white d-flex align-items-center gap-2",style:{fontSize:"1.5rem",fontWeight:"600"},children:[e.jsx(Z,{style:{color:"#e67e22"}}),"Resultados de Cuestionarios"]})]})})},J=t=>{if(typeof t=="boolean")return t;if(typeof t=="number")return t===1;if(typeof t=="string"){const o=t.toLowerCase();return o==="1"||o==="activo"||o==="activa"||o==="true"}return!1},X=t=>{if(!t)return null;const o=String(t).trim(),l=o.match(/^(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2})(?::(\d{2}))?)?$/);if(!l)return new Date(o.replace(" ","T"));const[p,x,g,h,a="0",u="0",y="0"]=l;return new Date(+x,+g-1,+h,+a,+u,+y)},P=t=>{const o=X(t?.fecha_inicio??t?.inicio),l=X(t?.fecha_fin??t?.fin);if(o||l){const g=new Date;return(o?g>=o:!0)&&(l?g<=l:!0)}const p=t?.apertura_activa;if(p!==void 0)return J(p);const x=t?.activo;return J(x)},Ce=({cuestionarios:t,aperturaSeleccionada:o,onSeleccionar:l})=>{const p=a=>P(a)?"text-success":"text-muted",x=a=>P(a)?e.jsx(ee,{}):e.jsx(te,{}),g=a=>P(a)?"Activo":"Cerrado",h=a=>o?.apertura_id===a;return t.length==0?e.jsxs("div",{className:"card border-0",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:[e.jsx("div",{className:"card-header d-flex justify-content-between align-items-center",style:{backgroundColor:"#343a40",color:"white"},children:e.jsxs("h3",{className:"mb-0 d-flex align-items-center gap-2",style:{fontSize:"1rem",fontWeight:"600"},children:[e.jsx(U,{style:{color:"#e67e22"}}),"Mis Cuestionarios"]})}),e.jsx("div",{className:"card-body p-4",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:"0.6"},children:e.jsx(A,{})}),e.jsx("p",{className:"text-muted",children:"No hay cuestionarios con resultados disponibles."})]})})]}):e.jsxs("div",{className:"card border-0",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",style:{backgroundColor:"#343a40",color:"white"},children:[e.jsxs("h3",{className:"mb-0 d-flex align-items-center gap-2",style:{fontSize:"1rem",fontWeight:"600"},children:[e.jsx(U,{style:{color:"#e67e22"}}),"Mis Cuestionarios"]}),e.jsx("span",{className:"badge bg-secondary",children:t.length})]}),e.jsx("div",{className:"card-body p-0",children:e.jsx("div",{style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:t.map(a=>e.jsxs("div",{className:`p-3 border-bottom ${h(a.apertura_id)?"bg-light":""}`,style:{cursor:"pointer",transition:"all 0.3s ease",borderLeft:h(a.apertura_id)?"4px solid #00a19B":"none"},onClick:()=>l(a.apertura_id),role:"button",tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&l(a.apertura_id)},onMouseOver:u=>{h(a.apertura_id)||(u.currentTarget.style.backgroundColor="#f8f9fa")},onMouseOut:u=>{h(a.apertura_id)||(u.currentTarget.style.backgroundColor="transparent")},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2 flex-1",children:[e.jsx("span",{className:p(a.apertura_activa),children:x(a.apertura_activa)}),e.jsx("h4",{className:"mb-0",style:{fontSize:"0.95rem",fontWeight:"600",color:"#2c3e50",lineHeight:"1.3"},children:a.titulo})]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",style:{background:"#e3f2fd",color:"#1976d2",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:[e.jsx(M,{size:12}),e.jsx("span",{children:a.total_estudiantes_respondieron})]})]}),e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsx("p",{className:"mb-0",style:{fontSize:"0.8rem",color:"#6c757d",fontWeight:"500"},children:a.programa_nombre}),e.jsx("p",{className:"mb-0",style:{fontSize:"0.75rem",color:"#888"},children:a.periodo_nombre}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:p(a),style:{fontSize:"0.8rem",fontWeight:500},children:[x(a)," ",g(a)]})})]}),a.descripcion&&e.jsx("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid #f0f0f0"},children:e.jsx("p",{className:"mb-0",style:{fontSize:"0.8rem",color:"#6c757d",lineHeight:"1.4"},children:a.descripcion})})]},a.apertura_id))})})]})},ze=({apertura:t,estudiantes:o,estadisticas:l,onVerRespuestas:p,formatearPorcentaje:x,getPorcentajeColor:g})=>{const h=V(),a=r=>{const d={id:r.estudiante_id,nombre:r.estudiante_nombre,email:r.email,identificacion:r.identificacion,programa_nombre:t?.programa_nombre};h(`/ver-respuesta/${r.estudiante_id}/${t.cuestionario_id}`,{state:{estudiante:d}})},u=r=>{if(typeof r=="boolean")return r;if(typeof r=="number")return r===1;if(typeof r=="string"){const d=r.toLowerCase();return d==="1"||d==="activo"||d==="activa"||d==="true"}return!1},y=r=>u(r)?e.jsxs("span",{className:"badge bg-success d-inline-flex align-items-center gap-1",children:[e.jsx(ee,{})," Activo"]}):e.jsxs("span",{className:"badge bg-secondary d-inline-flex align-items-center gap-1",children:[e.jsx(te,{})," Cerrado"]}),W=r=>{const d=g(r);let c="badge ";return d==="success"?c+="bg-success":d==="warning"?c+="bg-warning text-dark":d==="danger"?c+="bg-danger":c+="bg-secondary",e.jsx("span",{className:c,children:x(r)})},N=r=>{const d=r.porcentaje;let c=typeof d=="string"?parseFloat(d):Number(d);const w=Number(r.respuestas_correctas)||0,_=Number(r.total_preguntas)||0;return(!isFinite(c)||c<=0)&&(c=_>0?w*100/_:0),c},E=[...o].sort((r,d)=>d.porcentaje-r.porcentaje);return e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-4 pb-3",style:{borderBottom:"2px solid #dee2e6"},children:e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("h2",{className:"mb-0",style:{color:"#2c3e50",fontSize:"1.4rem",fontWeight:"700"},children:t.titulo}),y(t.apertura_activa??t.activo)]}),e.jsxs("div",{className:"d-flex flex-wrap gap-3",style:{color:"#6c757d",fontSize:"0.9rem"},children:[e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx("strong",{children:"Programa:"})," ",t.programa_nombre]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx("strong",{children:"Periodo:"})," ",t.periodo_nombre]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(fe,{}),e.jsxs("span",{children:[t.fecha_inicio," - ",t.fecha_fin]})]})]}),t.descripcion&&e.jsx("div",{children:e.jsx("p",{className:"mb-0",style:{color:"#6c757d",fontStyle:"italic",lineHeight:"1.5"},children:t.descripcion})})]})}),l&&e.jsxs("div",{className:"row g-3 mb-4",children:[e.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:e.jsx("div",{className:"card border-0 h-100",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center gap-3",children:[e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"#e67e22",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:e.jsx(M,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"0.25rem"},children:l.total_estudiantes}),e.jsx("div",{style:{fontSize:"0.8rem",color:"#6c757d",textTransform:"uppercase",fontWeight:"600"},children:"Estudiantes"})]})]})})}),e.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:e.jsx("div",{className:"card border-0 h-100",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center gap-3",children:[e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"#e67e22",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:e.jsx(je,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"0.25rem"},children:x(l.promedio_porcentaje)}),e.jsx("div",{style:{fontSize:"0.8rem",color:"#6c757d",textTransform:"uppercase",fontWeight:"600"},children:"Promedio General"})]})]})})}),e.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:e.jsx("div",{className:"card border-0 h-100",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center gap-3",children:[e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"#e67e22",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:e.jsx(T,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"0.25rem"},children:l.promedio_respuestas_correctas.toFixed(1)}),e.jsx("div",{style:{fontSize:"0.8rem",color:"#6c757d",textTransform:"uppercase",fontWeight:"600"},children:"Respuestas Correctas"})]})]})})}),e.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:e.jsx("div",{className:"card border-0 h-100",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center gap-3",children:[e.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"#e67e22",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:e.jsx(Z,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"0.25rem"},children:Math.round(l.total_preguntas_cuestionario)}),e.jsx("div",{style:{fontSize:"0.8rem",color:"#6c757d",textTransform:"uppercase",fontWeight:"600"},children:"Total Preguntas"})]})]})})})]}),e.jsxs("div",{className:"card border-0",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",style:{backgroundColor:"#343a40",color:"white"},children:[e.jsxs("h3",{className:"mb-0 d-flex align-items-center gap-2",style:{fontSize:"1rem",fontWeight:"600"},children:[e.jsx(M,{style:{color:"#e67e22"}}),"Resultados por Estudiante"]}),e.jsx("span",{className:"badge bg-secondary",children:o.length})]}),e.jsx("div",{className:"card-body p-0",children:E.length==0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:"0.6"},children:e.jsx(A,{})}),e.jsx("p",{className:"text-muted",children:"No hay estudiantes que hayan completado este cuestionario."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Ranking"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Estudiante"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"IdentificaciÃ³n"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Email"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"CalificaciÃ³n"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Fecha"}),e.jsx("th",{className:"text-center",style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Acciones"})]})}),e.jsx("tbody",{children:E.map((r,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[d<3&&e.jsx("span",{style:{fontSize:"1.1rem"},children:d==0?e.jsx(T,{}):d==1?e.jsx(T,{}):e.jsx(T,{})}),e.jsxs("span",{style:{fontWeight:"600",color:"#6c757d",fontSize:"0.85rem"},children:["#",d+1]})]})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx("strong",{style:{color:"#2c3e50"},children:r.estudiante_nombre})})}),e.jsx("td",{children:r.identificacion}),e.jsx("td",{children:e.jsx("div",{style:{color:"#6c757d",fontSize:"0.85rem"},children:r.email})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex flex-column align-items-start gap-1",children:[W(N(r)),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#6c757d"},children:[r.respuestas_correctas,"/",r.total_preguntas]})]})}),e.jsx("td",{children:e.jsx("div",{style:{fontSize:"0.85rem",color:"#6c757d"},children:r.fecha_respuesta||""})}),e.jsx("td",{className:"text-center",children:(()=>{const c=!!r.completado,w=c?"btn btn-sm d-inline-flex align-items-center gap-2":"btn btn-outline-secondary btn-sm d-inline-flex align-items-center gap-2 disabled",_=c?"Ver respuestas":"Este estudiante aÃºn no ha respondido";return e.jsx("button",{type:"button",className:w,onClick:()=>c&&a(r),title:_,disabled:!c,style:c?{backgroundColor:"#00a19B",borderColor:"#00a19B",color:"white",boxShadow:"0 4px 10px rgba(0,161,155,0.2)"}:void 0,onMouseOver:v=>{c&&(v.currentTarget.style.backgroundColor="#008b86",v.currentTarget.style.borderColor="#008b86")},onMouseOut:v=>{c&&(v.currentTarget.style.backgroundColor="#00a19B",v.currentTarget.style.borderColor="#00a19B")},children:c?e.jsxs(e.Fragment,{children:[e.jsx(be,{})," ",e.jsx("span",{children:"Ver"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{})," ",e.jsx("span",{children:"N/A"})]})})})()})]},r.estudiante_id))})]})})})]})]})},Ee=()=>e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px",padding:"2rem"},children:e.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[e.jsx(ve,{className:"fa-spin",style:{fontSize:"2rem",color:"#e67e22",marginBottom:"1rem"}}),e.jsx("h2",{style:{color:"#2c3e50",fontSize:"1.5rem",marginBottom:"1rem"},children:"Cargando resultados..."}),e.jsx("p",{className:"text-muted",children:"Por favor espera mientras cargamos los datos."})]})}),Re=({onReintentar:t})=>e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px",padding:"2rem"},children:e.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[e.jsx(Ne,{style:{fontSize:"3rem",color:"#e67e22",marginBottom:"1rem"}}),e.jsx("h2",{style:{color:"#e67e22",fontSize:"1.5rem",marginBottom:"1rem"},children:"AÃºn no hay resultados"}),t&&e.jsxs("button",{className:"btn btn-outline-orange",onClick:t,type:"button",style:{transition:"all 0.2s ease"},onMouseOver:o=>{o.currentTarget.style.transform="translateY(-1px)"},onMouseOut:o=>{o.currentTarget.style.transform="translateY(0)"},children:[e.jsx(_e,{className:"me-2"})," Volver"]})]})}),ke=({mensaje:t,submensaje:o})=>e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px",padding:"2rem"},children:e.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:"0.6"},children:e.jsx(A,{})}),e.jsx("h3",{style:{color:"#6c757d",fontSize:"1.25rem",marginBottom:"1rem"},children:t}),o&&e.jsx("p",{className:"text-muted",children:o})]})}),Pe=()=>{const{cuestionarios:t,aperturaSeleccionada:o,resultadosEstudiantes:l,estadisticasApertura:p,loading:x,error:g,handleSeleccionarCuestionario:h,handleVerRespuestas:a,formatearPorcentaje:u,getPorcentajeColor:y}=Se();return x?e.jsx(B,{children:e.jsx(Ee,{})}):g?e.jsx(B,{children:e.jsx(Re,{})}):e.jsx(B,{children:e.jsx("div",{className:"container-fluid py-3",style:{backgroundColor:"#f8fafc",minHeight:"100vh"},children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-12 col-xl-11",children:[e.jsx(we,{}),e.jsxs("div",{className:"row g-4 mt-3",children:[e.jsx("div",{className:"col-12 col-lg-4",children:e.jsx(Ce,{cuestionarios:t,aperturaSeleccionada:o,onSeleccionar:h})}),e.jsx("div",{className:"col-12 col-lg-8",children:o&&l?e.jsx(ze,{apertura:o,estudiantes:l,estadisticas:p,onVerRespuestas:a,formatearPorcentaje:u,getPorcentajeColor:y}):e.jsx(ke,{mensaje:"Seleccione un cuestionario para ver los resultados",icono:e.jsx(A,{})})})]})]})})})})};export{Pe as default};
