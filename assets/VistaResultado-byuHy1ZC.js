import{a as I,i as pe,r as y,c as B,A as M,S as he,j as e}from"./index-bvBplxLg.js";import{P as V}from"./PageTransition-h2g6dWVb.js";import{n as fe,l as te,S as X,k as L,A as H,E as se,T as re,j as je,U as be,P as O,d as ye,c as ve,B as Ne,e as _e,v as Se,V as Ce}from"./index-CU0cwZ_L.js";import"./iconBase-BtrJDtBd.js";const we=()=>{const s=I(),n=pe(),[d,f]=y.useState([]),[x,p]=y.useState(null),[m,o]=y.useState([]),[g,S]=y.useState(null),[P,C]=y.useState(!0),[A,w]=y.useState(null),z=y.useRef(!1),j=y.useCallback(async()=>{try{C(!0),w(null);const l=await B.get(M.seguimiento.allquiz),u=l?.data?.data??l?.data??{},E=Array.isArray(u?.cuestionarios)?u.cuestionarios:Array.isArray(u?.data)?u.data:Array.isArray(l?.data)?l.data:Array.isArray(u)?u:[];f(E)}catch(l){console.error("Error al cargar cuestionarios:",l),w(l instanceof Error?l.message:"Error al cargar cuestionarios")}finally{C(!1)}},[]);y.useEffect(()=>{z.current||(z.current=!0,j())},[j]),y.useEffect(()=>{const l=()=>{document.hidden||j()},u=()=>{j()};return document.addEventListener("visibilitychange",l),window.addEventListener("focus",u),()=>{document.removeEventListener("visibilitychange",l),window.removeEventListener("focus",u)}},[j]),y.useEffect(()=>{n.pathname.includes("/vista-resultado")&&j()},[n.pathname,j]);const W=async l=>{try{C(!0);const[u,E]=await Promise.all([B.get(M.seguimiento.info(l)),B.get(M.resultado.resultado_general(l))]),c=u?.data?.data??u?.data??{},N=E?.data?.data??E?.data??{},$=a=>{if(!a)return null;const _=new Date(String(a).replace(/\//g,"-"));return isNaN(_.getTime())?null:_},ae=a=>a===1||a==="1"||a===!0||a==="true"||String(a).toLowerCase()==="activo"||String(a).toLowerCase()==="activa"||String(a).toLowerCase()==="abierto"||String(a).toLowerCase()==="abierta"||String(a).toLowerCase()==="open",U=$(c?.fecha_inicio??c?.inicio),G=$(c?.fecha_fin??c?.fin),Y=new Date,ne=U&&G?Y>=U&&Y<=G:!1,q=c?.activo!==void 0?c?.activo:c?.apertura_activa!==void 0?c?.apertura_activa:c?.estado!==void 0?c?.estado:void 0,oe=q!==void 0?ae(q):ne,K=c?{apertura_id:Number(c.apertura_id??c.id??l),cuestionario_id:Number(c.cuestionario_id??c.id_cuestionario??c.id??c.cuestionario?.id??0),titulo:String(c.titulo??c.cuestionario_titulo??c.cuestionario?.titulo??"Cuestionario"),descripcion:String(c.descripcion??c.cuestionario_descripcion??c.cuestionario?.descripcion??""),programa_nombre:String(c.programa_nombre??c.programa??c.cuestionario?.programa_nombre??"No especificado"),periodo_nombre:String(c.periodo_nombre??c.periodo??"No especificado"),fecha_inicio:String(c.fecha_inicio??c.inicio??""),fecha_fin:String(c.fecha_fin??c.fin??""),apertura_activa:oe?1:0}:null,R=(Array.isArray(N?.estudiantes)?N.estudiantes:Array.isArray(N)?N:Array.isArray(E?.data)?E.data:[]).map(a=>{const _=Number(a.estudiante_id??a.id??a.id_estudiante??0),de=Number(a.total_preguntas??0),J=Number(a.respuestas_correctas??a.correctas??0),F=a.porcentaje??a.puntaje??null,ue=F==null?0:Number(F),Q=a.fecha_respuesta??a.fecha??null,me=a.intento_id??a.id_intento??null,k=a.ha_intentado??a.completado??a.estado,ge=a.puntaje_obtenido??a.puntajeObtenido??null,xe=!!(me||Q||F!==null||ge!==null||J>0||k===1||String(k).toLowerCase()==="1"||k===!0||String(k).toLowerCase()==="true"||String(k).toLowerCase()==="completado");return{estudiante_id:_,estudiante_nombre:String(a.estudiante_nombre??a.nombre??""),identificacion:String(a.identificacion??a.cedula??""),email:String(a.email??a.correo??""),total_preguntas:de,respuestas_correctas:J,porcentaje:ue,fecha_respuesta:Q,puntaje_total:Number(a.puntaje_total??a.total??0),completado:xe}}),T=R.length,ie=T>0?Math.round(R.reduce((a,_)=>a+(_.porcentaje||0),0)/T):0,ce=T>0?Math.round(R.reduce((a,_)=>a+(_.respuestas_correctas||0),0)/T):0,le={total_estudiantes:Number(N?.total_estudiantes??T),promedio_porcentaje:Number(N?.promedio_porcentaje??ie),promedio_respuestas_correctas:Number(N?.promedio_respuestas_correctas??ce),total_preguntas_cuestionario:(N?.total_preguntas_cuestionario??K,0)};p(K),o(R),S(le)}catch(u){console.error("Error al cargar detalles:",u),he.fire({icon:"error",title:"Error",text:"No se pudieron cargar los detalles del cuestionario"})}finally{C(!1)}},t=(l,u)=>{s(`/ver-respuesta/${l}/${u}`)},i=l=>`${l.toFixed(1)}%`,r=l=>l>=80?"success":l>=60?"warning":"danger",b=l=>l===1?"activo":"cerrado",v=l=>l===1?"âœ…":"ðŸ“‹";return{cuestionarios:d,aperturaSeleccionada:x,resultadosEstudiantes:m,estadisticasApertura:g,loading:P,error:A,handleSeleccionarCuestionario:W,handleVerRespuestas:t,formatearPorcentaje:i,getPorcentajeColor:r,getEstadoCuestionario:b,getIconoEstado:v,getEstadisticasRapidas:l=>({respondieron:l.total_estudiantes_respondieron,estado:b(l.apertura_activa),icono:v(l.apertura_activa)}),cargarCuestionarios:j,refrescarDatos:j}},Ee=()=>{const s=I(),n=()=>{s("/seguimiento")};return e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4 p-3",style:{backgroundColor:"#00a19B",borderRadius:"0.375rem",color:"white"},children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("button",{className:"btn btn-outline-light btn-sm d-flex align-items-center justify-content-center",onClick:n,type:"button",title:"Volver al seguimiento",style:{borderColor:"rgba(255, 255, 255, 0.3)",color:"white",transition:"all 0.2s ease",width:"40px",height:"40px"},onMouseOver:d=>{d.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",d.currentTarget.style.borderColor="rgba(255, 255, 255, 0.5)"},onMouseOut:d=>{d.currentTarget.style.backgroundColor="transparent",d.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"},children:e.jsx(fe,{size:14})}),e.jsxs("h1",{className:"mb-0 text-white d-flex align-items-center gap-2",style:{fontSize:"1.5rem",fontWeight:"600"},children:[e.jsx(te,{style:{color:"#e67e22"}}),"Resultados de Cuestionarios"]})]})})},Z=s=>{if(typeof s=="boolean")return s;if(typeof s=="number")return s===1;if(typeof s=="string"){const n=s.toLowerCase();return n==="1"||n==="activo"||n==="activa"||n==="true"}return!1},ee=s=>{if(!s)return null;const n=String(s).trim(),d=n.match(/^(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2})(?::(\d{2}))?)?$/);if(!d)return new Date(n.replace(" ","T"));const[f,x,p,m,o="0",g="0",S="0"]=d;return new Date(+x,+p-1,+m,+o,+g,+S)},D=s=>{const n=ee(s?.fecha_inicio??s?.inicio),d=ee(s?.fecha_fin??s?.fin);if(n||d){const p=new Date;return(n?p>=n:!0)&&(d?p<=d:!0)}const f=s?.apertura_activa;if(f!==void 0)return Z(f);const x=s?.activo;return Z(x)},ze=({cuestionarios:s,aperturaSeleccionada:n,onSeleccionar:d})=>{const f=o=>D(o)?"text-success":"text-muted",x=o=>D(o)?e.jsx(se,{}):e.jsx(re,{}),p=o=>D(o)?"Activo":"Cerrado",m=o=>n?.apertura_id===o;return s.length==0?e.jsxs("div",{className:"card border-0",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:[e.jsx("div",{className:"card-header d-flex justify-content-between align-items-center",style:{backgroundColor:"#343a40",color:"white"},children:e.jsxs("h3",{className:"mb-0 d-flex align-items-center gap-2",style:{fontSize:"1rem",fontWeight:"600"},children:[e.jsx(X,{style:{color:"#e67e22"}}),"Mis Cuestionarios"]})}),e.jsx("div",{className:"card-body p-4",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:"0.6"},children:e.jsx(L,{})}),e.jsx("p",{className:"text-muted",children:"No hay cuestionarios con resultados disponibles."})]})})]}):e.jsxs("div",{className:"card border-0",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",style:{backgroundColor:"#343a40",color:"white"},children:[e.jsxs("h3",{className:"mb-0 d-flex align-items-center gap-2",style:{fontSize:"1rem",fontWeight:"600"},children:[e.jsx(X,{style:{color:"#e67e22"}}),"Mis Cuestionarios"]}),e.jsx("span",{className:"badge bg-secondary",children:s.length})]}),e.jsx("div",{className:"card-body p-0",children:e.jsx("div",{style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:s.map(o=>e.jsxs("div",{className:`p-3 border-bottom ${m(o.apertura_id)?"bg-light":""}`,style:{cursor:"pointer",transition:"all 0.3s ease",borderLeft:m(o.apertura_id)?"4px solid #00a19B":"none"},onClick:()=>d(o.apertura_id),role:"button",tabIndex:0,onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&d(o.apertura_id)},onMouseOver:g=>{m(o.apertura_id)||(g.currentTarget.style.backgroundColor="#f8f9fa")},onMouseOut:g=>{m(o.apertura_id)||(g.currentTarget.style.backgroundColor="transparent")},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2 flex-1",children:[e.jsx("span",{className:f(o.apertura_activa),children:x(o.apertura_activa)}),e.jsx("h4",{className:"mb-0",style:{fontSize:"0.95rem",fontWeight:"600",color:"#2c3e50",lineHeight:"1.3"},children:o.titulo})]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",style:{background:"#e3f2fd",color:"#1976d2",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:[e.jsx(H,{size:12}),e.jsx("span",{children:o.total_estudiantes_respondieron})]})]}),e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsx("p",{className:"mb-0",style:{fontSize:"0.8rem",color:"#6c757d",fontWeight:"500"},children:o.programa_nombre}),e.jsx("p",{className:"mb-0",style:{fontSize:"0.75rem",color:"#888"},children:o.periodo_nombre}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:f(o),style:{fontSize:"0.8rem",fontWeight:500},children:[x(o)," ",p(o)]})})]}),o.descripcion&&e.jsx("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid #f0f0f0"},children:e.jsx("p",{className:"mb-0",style:{fontSize:"0.8rem",color:"#6c757d",lineHeight:"1.4"},children:o.descripcion})})]},o.apertura_id))})})]})},Te=({apertura:s,estudiantes:n,estadisticas:d,onVerRespuestas:f,formatearPorcentaje:x,getPorcentajeColor:p})=>{const m=I(),o=t=>{const i={id:t.estudiante_id,nombre:t.estudiante_nombre,email:t.email,identificacion:t.identificacion,programa_nombre:s?.programa_nombre};m(`/ver-respuesta/${t.estudiante_id}/${s.cuestionario_id}`,{state:{estudiante:i}})},g=t=>{const i=s?.cuestionario_id,r=`/reporte-aprendizaje?cuestionarioId=${encodeURIComponent(String(i))}&estudianteId=${encodeURIComponent(String(t.estudiante_id))}`;m(r)},S=t=>{if(typeof t=="boolean")return t;if(typeof t=="number")return t===1;if(typeof t=="string"){const i=t.toLowerCase();return i==="1"||i==="activo"||i==="activa"||i==="true"}return!1},P=t=>S(t)?e.jsxs("span",{className:"badge bg-success d-inline-flex align-items-center gap-1",children:[e.jsx(se,{})," Activo"]}):e.jsxs("span",{className:"badge bg-secondary d-inline-flex align-items-center gap-1",children:[e.jsx(re,{})," Cerrado"]}),C=t=>{const i=p(t);let r="badge ";return i==="success"?r+="bg-success":i==="warning"?r+="bg-warning text-dark":i==="danger"?r+="bg-danger":r+="bg-secondary",e.jsx("span",{className:r,children:x(t)})},A=t=>{const i=t.porcentaje;let r=typeof i=="string"?parseFloat(i):Number(i);const b=Number(t.respuestas_correctas)||0,v=Number(t.total_preguntas)||0;return(!isFinite(r)||r<=0)&&(r=v>0?b*100/v:0),r},w=({icon:t,value:i,label:r})=>e.jsx("div",{className:"card border-0 h-100",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:e.jsxs("div",{className:"card-body d-flex align-items-center gap-3",children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#e67e22",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.1rem",flexShrink:0},children:t}),e.jsxs("div",{className:"flex-1 d-flex flex-column",children:[e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"#2c3e50",lineHeight:1},children:i}),e.jsx("div",{style:{fontSize:"0.72rem",color:"#6c757d",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.3px",marginTop:"2px"},children:r})]})]})}),z=[...n].sort((t,i)=>i.porcentaje-t.porcentaje),j=(()=>{const t=Number(d?.total_preguntas_cuestionario);return isFinite(t)&&t>0?Math.round(t):n.reduce((r,b)=>{const v=Number(b.total_preguntas)||0;return v>r?v:r},0)})(),W=(()=>{const t=Number(d?.promedio_porcentaje);if(isFinite(t)&&t>0)return t;const i=n.map(r=>({p:A(r),tp:Number(r.total_preguntas)||0})).filter(r=>r.tp>0).map(r=>r.p);return i.length===0?0:i.reduce((r,b)=>r+b,0)/i.length})();return e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-4 pb-3",style:{borderBottom:"2px solid #dee2e6"},children:e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("h2",{className:"mb-0",style:{color:"#2c3e50",fontSize:"1.4rem",fontWeight:"700"},children:s.titulo}),P(s.apertura_activa??s.activo)]}),e.jsxs("div",{className:"d-flex flex-wrap gap-3",style:{color:"#6c757d",fontSize:"0.9rem"},children:[e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx("strong",{children:"Programa:"})," ",s.programa_nombre]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx("strong",{children:"Periodo:"})," ",s.periodo_nombre]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(je,{}),e.jsxs("span",{children:[s.fecha_inicio," - ",s.fecha_fin]})]})]}),s.descripcion&&e.jsx("div",{children:e.jsx("p",{className:"mb-0",style:{color:"#6c757d",fontStyle:"italic",lineHeight:"1.5"},children:s.descripcion})})]})}),d&&e.jsxs("div",{className:"row g-3 mb-4 align-items-stretch",children:[e.jsx("div",{className:"col-12 col-sm-6 col-lg-4",children:e.jsx(w,{icon:e.jsx(H,{}),value:d.total_estudiantes,label:"Estudiantes"})}),e.jsx("div",{className:"col-12 col-sm-6 col-lg-4",children:e.jsx(w,{icon:e.jsx(be,{}),value:x(W),label:"Promedio General"})}),e.jsx("div",{className:"col-12 col-sm-6 col-lg-4",children:e.jsx(w,{icon:e.jsx(te,{}),value:j,label:"Total Preguntas"})})]}),e.jsxs("div",{className:"card border-0",style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)"},children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",style:{backgroundColor:"#343a40",color:"white"},children:[e.jsxs("h3",{className:"mb-0 d-flex align-items-center gap-2",style:{fontSize:"1rem",fontWeight:"600"},children:[e.jsx(H,{style:{color:"#e67e22"}}),"Resultados por Estudiante"]}),e.jsx("span",{className:"badge bg-secondary",children:n.length})]}),e.jsx("div",{className:"card-body p-0",children:z.length==0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:"0.6"},children:e.jsx(L,{})}),e.jsx("p",{className:"text-muted",children:"No hay estudiantes que hayan completado este cuestionario."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Ranking"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Estudiante"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Email"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"IdentificaciÃ³n"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"CalificaciÃ³n"}),e.jsx("th",{style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Fecha"}),e.jsx("th",{className:"text-center",style:{fontSize:"0.85rem",textTransform:"uppercase",color:"#2c3e50",fontWeight:"600"},children:"Acciones"})]})}),e.jsx("tbody",{children:z.map((t,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[i<3&&e.jsx("span",{style:{fontSize:"1.1rem"},children:i==0?e.jsx(O,{}):i==1?e.jsx(O,{}):e.jsx(O,{})}),e.jsxs("span",{style:{fontWeight:"600",color:"#6c757d",fontSize:"0.85rem"},children:["#",i+1]})]})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx("strong",{style:{color:"#2c3e50"},children:t.estudiante_nombre})})}),e.jsx("td",{children:e.jsx("div",{style:{color:"#6c757d",fontSize:"0.85rem"},children:t.email})}),e.jsx("td",{children:t.identificacion}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex flex-column align-items-start gap-1",children:[C(A(t)),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#6c757d"},children:[t.respuestas_correctas,"/",t.total_preguntas]})]})}),e.jsx("td",{children:e.jsx("div",{style:{fontSize:"0.85rem",color:"#6c757d"},children:t.fecha_respuesta||""})}),e.jsx("td",{className:"text-center",children:(()=>{const r=!!t.completado,b=r?"btn btn-sm d-inline-flex align-items-center gap-2":"btn btn-outline-secondary btn-sm d-inline-flex align-items-center gap-2 disabled",v=r?"Ver respuestas":"Este estudiante aÃºn no ha respondido";return e.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[e.jsx("button",{type:"button",className:b,onClick:()=>r&&o(t),title:v,disabled:!r,style:r?{backgroundColor:"#00a19B",borderColor:"#00a19B",color:"white",boxShadow:"0 4px 10px rgba(0,161,155,0.2)"}:void 0,onMouseOver:h=>{r&&(h.currentTarget.style.backgroundColor="#008b86",h.currentTarget.style.borderColor="#008b86")},onMouseOut:h=>{r&&(h.currentTarget.style.backgroundColor="#00a19B",h.currentTarget.style.borderColor="#00a19B")},children:r?e.jsxs(e.Fragment,{children:[e.jsx(ye,{})," ",e.jsx("span",{children:"Ver"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{})," ",e.jsx("span",{children:"N/A"})]})}),e.jsxs("button",{type:"button",className:b,onClick:()=>r&&g(t),title:r?"Generar Consolidado":"Este estudiante aÃºn no ha respondido",disabled:!r,style:r?{backgroundColor:"#0b5ed7",borderColor:"#0b5ed7",color:"white",boxShadow:"0 4px 10px rgba(11,94,215,0.2)"}:void 0,onMouseOver:h=>{r&&(h.currentTarget.style.backgroundColor="#0a53be",h.currentTarget.style.borderColor="#0a53be")},onMouseOut:h=>{r&&(h.currentTarget.style.backgroundColor="#0b5ed7",h.currentTarget.style.borderColor="#0b5ed7")},children:[e.jsx(Ne,{})," ",e.jsx("span",{children:"Generar Consolidado"})]})]})})()})]},t.estudiante_id))})]})})})]})]})},ke=()=>e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px",padding:"2rem"},children:e.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[e.jsx(_e,{className:"fa-spin",style:{fontSize:"2rem",color:"#e67e22",marginBottom:"1rem"}}),e.jsx("h2",{style:{color:"#2c3e50",fontSize:"1.5rem",marginBottom:"1rem"},children:"Cargando resultados..."}),e.jsx("p",{className:"text-muted",children:"Por favor espera mientras cargamos los datos."})]})}),Ae=({onReintentar:s})=>e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px",padding:"2rem"},children:e.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[e.jsx(Se,{style:{fontSize:"3rem",color:"#e67e22",marginBottom:"1rem"}}),e.jsx("h2",{style:{color:"#e67e22",fontSize:"1.5rem",marginBottom:"1rem"},children:"AÃºn no hay resultados"}),s&&e.jsxs("button",{className:"btn btn-outline-orange",onClick:s,type:"button",style:{transition:"all 0.2s ease"},onMouseOver:n=>{n.currentTarget.style.transform="translateY(-1px)"},onMouseOut:n=>{n.currentTarget.style.transform="translateY(0)"},children:[e.jsx(Ce,{className:"me-2"})," Volver"]})]})}),Re=({mensaje:s,submensaje:n})=>e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px",padding:"2rem"},children:e.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:"0.6"},children:e.jsx(L,{})}),e.jsx("h3",{style:{color:"#6c757d",fontSize:"1.25rem",marginBottom:"1rem"},children:s}),n&&e.jsx("p",{className:"text-muted",children:n})]})}),Me=()=>{const{cuestionarios:s,aperturaSeleccionada:n,resultadosEstudiantes:d,estadisticasApertura:f,loading:x,error:p,handleSeleccionarCuestionario:m,handleVerRespuestas:o,formatearPorcentaje:g,getPorcentajeColor:S}=we();return x?e.jsx(V,{children:e.jsx(ke,{})}):p?e.jsx(V,{children:e.jsx(Ae,{})}):e.jsx(V,{children:e.jsx("div",{className:"container-fluid py-3",style:{backgroundColor:"#f8fafc",minHeight:"100vh"},children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-12 col-xl-11",children:[e.jsx(Ee,{}),e.jsxs("div",{className:"row g-4 mt-3",children:[e.jsx("div",{className:"col-12 col-lg-4",children:e.jsx(ze,{cuestionarios:s,aperturaSeleccionada:n,onSeleccionar:m})}),e.jsx("div",{className:"col-12 col-lg-8",children:n&&d?e.jsx(Te,{apertura:n,estudiantes:d,estadisticas:f,onVerRespuestas:o,formatearPorcentaje:g,getPorcentajeColor:S}):e.jsx(Re,{mensaje:"Seleccione un cuestionario para ver los resultados",icono:e.jsx(L,{})})})]})]})})})})};export{Me as default};
